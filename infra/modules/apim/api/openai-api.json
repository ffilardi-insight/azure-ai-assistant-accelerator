{
    "openapi": "3.0.1",
    "info": {
        "title": "OpenAI API",
        "description": "Azure OpenAI APIs for chat completions and embeddings",
        "version": "v1"
    },
    "servers": [
        {
            "url": "https://{apim-resource-name}.azure-api.net/openai/v1",
            "variables": {
                "apim-resource-name": {
                    "default": "your-resource-name"
                }
            }
        }
    ],
    "paths": {
        "/deployments/{deployment-id}/embeddings": {
            "post": {
                "summary": "Get a vector representation of a given input",
                "description": "Get a vector representation of a given input that can be easily consumed by machine learning models and algorithms.",
                "operationId": "embeddings",
                "parameters": [
                    {
                        "name": "deployment-id",
                        "in": "path",
                        "description": "The deployment ID of the model which was deployed.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "api-version",
                        "in": "query",
                        "description": "The model API version.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Embedding request payload",
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "input"
                                ],
                                "type": "object",
                                "properties": {
                                    "input": {
                                        "oneOf": [
                                            {
                                                "type": "string",
                                                "default": "",
                                                "nullable": true,
                                                "example": "This is a test."
                                            },
                                            {
                                                "maxItems": 2048,
                                                "minItems": 1,
                                                "type": "array",
                                                "items": {
                                                    "minLength": 1,
                                                    "type": "string",
                                                    "example": "This is a test."
                                                }
                                            }
                                        ],
                                        "description": "Input text to get embeddings for, encoded as a string. To get embeddings for multiple inputs in a single request, pass an array of strings. Each input must not exceed 2048 tokens in length.\nUnless you are embedding code, we suggest replacing newlines (\\n) in your input with a single space, as we have observed inferior results when newlines are present."
                                    }
                                },
                                "example": {
                                    "input": "string"
                                }
                            },
                            "example": {
                                "input": "string"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Response OK payload",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "required": [
                                        "object",
                                        "model",
                                        "data",
                                        "usage"
                                    ],
                                    "type": "object",
                                    "properties": {
                                        "object": {
                                            "type": "string"
                                        },
                                        "model": {
                                            "type": "string"
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "required": [
                                                    "index",
                                                    "object",
                                                    "embedding"
                                                ],
                                                "type": "object",
                                                "properties": {
                                                    "index": {
                                                        "type": "integer"
                                                    },
                                                    "object": {
                                                        "type": "string"
                                                    },
                                                    "embedding": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "number"
                                                        }
                                                    }
                                                }
                                            }
                                        },
                                        "usage": {
                                            "required": [
                                                "prompt_tokens",
                                                "total_tokens"
                                            ],
                                            "type": "object",
                                            "properties": {
                                                "prompt_tokens": {
                                                    "type": "integer"
                                                },
                                                "total_tokens": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    },
                                    "example": {
                                        "object": "string",
                                        "model": "string",
                                        "data": [
                                            {
                                                "index": 0,
                                                "object": "string",
                                                "embedding": [
                                                    0.942668836829404
                                                ]
                                            }
                                        ],
                                        "usage": {
                                            "prompt_tokens": 0,
                                            "total_tokens": 0
                                        }
                                    }
                                },
                                "example": {
                                    "object": "string",
                                    "model": "string",
                                    "data": [
                                        {
                                            "index": 0,
                                            "object": "string",
                                            "embedding": [
                                                0.932324827259966
                                            ]
                                        }
                                    ],
                                    "usage": {
                                        "prompt_tokens": 0,
                                        "total_tokens": 0
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/deployments/{deployment-id}/chat/completions": {
            "post": {
                "summary": "Creates a completion for the chat message",
                "description": "Creates a completion for the chat message",
                "operationId": "chat_completions",
                "parameters": [
                    {
                        "name": "deployment-id",
                        "in": "path",
                        "description": "The deployment ID of the model which was deployed.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "api-version",
                        "in": "query",
                        "description": "The model API version.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "description": "Chat completion request payload",
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "messages"
                                ],
                                "type": "object",
                                "properties": {
                                    "messages": {
                                        "minItems": 1,
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "role",
                                                "content"
                                            ],
                                            "type": "object",
                                            "properties": {
                                                "role": {
                                                    "enum": [
                                                        "system",
                                                        "user",
                                                        "assistant"
                                                    ],
                                                    "type": "string",
                                                    "description": "The role of the author of this message."
                                                },
                                                "content": {
                                                    "type": "string",
                                                    "description": "The contents of the message"
                                                }
                                            }
                                        },
                                        "description": "The messages to generate chat completions for, in the chat format."
                                    }
                                },
                                "example": {
                                    "messages": [
                                        {
                                            "role": "string",
                                            "content": "string"
                                        }
                                    ]
                                }
                            },
                            "example": {
                                "messages": [
                                    {
                                        "role": "string",
                                        "content": "string"
                                    }
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Response OK payload",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "required": [
                                        "id",
                                        "object",
                                        "created",
                                        "model",
                                        "choices"
                                    ],
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string"
                                        },
                                        "object": {
                                            "type": "string"
                                        },
                                        "created": {
                                            "type": "integer",
                                            "format": "unixtime"
                                        },
                                        "model": {
                                            "type": "string"
                                        },
                                        "choices": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "index": {
                                                        "type": "integer"
                                                    },
                                                    "message": {
                                                        "required": [
                                                            "role",
                                                            "content"
                                                        ],
                                                        "type": "object",
                                                        "properties": {
                                                            "role": {
                                                                "enum": [
                                                                    "system",
                                                                    "user",
                                                                    "assistant"
                                                                ],
                                                                "type": "string",
                                                                "description": "The role of the author of this message."
                                                            },
                                                            "content": {
                                                                "type": "string",
                                                                "description": "The contents of the message"
                                                            }
                                                        }
                                                    },
                                                    "finish_reason": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "usage": {
                                            "required": [
                                                "prompt_tokens",
                                                "completion_tokens",
                                                "total_tokens"
                                            ],
                                            "type": "object",
                                            "properties": {
                                                "prompt_tokens": {
                                                    "type": "integer"
                                                },
                                                "completion_tokens": {
                                                    "type": "integer"
                                                },
                                                "total_tokens": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    },
                                    "example": {
                                        "id": "string",
                                        "object": "string",
                                        "created": 0,
                                        "model": "string",
                                        "choices": [
                                            {
                                                "index": 0,
                                                "message": {
                                                    "role": "string",
                                                    "content": "string"
                                                },
                                                "finish_reason": "string"
                                            }
                                        ],
                                        "usage": {
                                            "prompt_tokens": 0,
                                            "completion_tokens": 0,
                                            "total_tokens": 0
                                        }
                                    }
                                },
                                "example": {
                                    "id": "string",
                                    "object": "string",
                                    "created": 0,
                                    "model": "string",
                                    "choices": [
                                        {
                                            "index": 0,
                                            "message": {
                                                "role": "string",
                                                "content": "string"
                                            },
                                            "finish_reason": "string"
                                        }
                                    ],
                                    "usage": {
                                        "prompt_tokens": 0,
                                        "completion_tokens": 0,
                                        "total_tokens": 0
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "apiKeyHeader": {
                "type": "apiKey",
                "name": "Ocp-Apim-Subscription-Key",
                "in": "header"
            },
            "apiKeyQuery": {
                "type": "apiKey",
                "name": "subscription-key",
                "in": "query"
            }
        }
    },
    "security": [
        {
            "apiKeyHeader": []
        },
        {
            "apiKeyQuery": []
        }
    ]
}